HTML_Tarjeta = 

-- Generamos HTML para mostrar las evoluciones en tarjetas
VAR Evolucion = 
    CONCATENATEX(
        -- Filtramos por la línea evolutiva actual
        FILTER(
            'Matriz_Evoluciones',
            'Matriz_Evoluciones'[Id Pokemon] IN 
            CALCULATETABLE(
                VALUES('Matriz_Evoluciones'[Id Pokemon])
            )
        ),
        -- Fragmento HTML por cada Pokémon
        "<div style='display: inline-block; margin: 10px; text-align: center;'>

            <!-- Imagen con sombra y bordes redondeados -->
            <img src=""" & [Imagen] & """ 
                 style='width: 100px; height: 100px; border-radius: 10px; 
                        box-shadow: 0 4px 8px rgba(0,0,0,0.3);'>

            <!-- Nombre con menor margen inferior -->
            <h3 style='color: black; font-family: ""Segoe UI Semibold""; margin: 5px 0 2px 0; font-size: 16px;'>" &
                UPPER(LEFT([Id Pokemon], 1)) & 
                LOWER(MID([Id Pokemon], 2, LEN([Id Pokemon]))) & 
            "</h3>

            <!-- ID con menor margen superior -->
            <p style='color: black; font-family: ""Segoe UI Semibold""; margin: 0;'>ID: " & 
                [Id Pokemon] & 
            "</p>
        </div>",
        "", -- Sin separador
        [Id Pokemon]
    )

-- Contenedor principal del visual
RETURN
"<div style='background-color: transparent; color: black; text-align: center; padding: 10px; border-radius: 10px; max-width: 600px; margin: 0 auto;'>
    <h1 style='color: black; font-family: ""Segoe UI Semibold""; margin-bottom: 10px;'>Evolucion</h1>
    " & Evolucion & "
</div>"